<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Diligent Engine API Reference: Diligent::IReferenceCounters Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Diligent Engine API Reference
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_diligent.html">Diligent</a></li><li class="navelem"><a class="el" href="class_diligent_1_1_i_reference_counters.html">IReferenceCounters</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_diligent_1_1_i_reference_counters-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Diligent::IReferenceCounters Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Base interface for a reference counter object that stores the number of strong and weak references and the pointer to the object. It is necessary to separate reference counters from the object to support weak pointers.  
 <a href="class_diligent_1_1_i_reference_counters.html#details">More...</a></p>

<p>Inherited by Diligent::RefCountersImpl.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9f16fac7d82b9db77472c01221252d9e"><td class="memItemLeft" align="right" valign="top">virtual CounterValueType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_diligent_1_1_i_reference_counters.html#a9f16fac7d82b9db77472c01221252d9e">AddStrongRef</a> ()=0</td></tr>
<tr class="memdesc:a9f16fac7d82b9db77472c01221252d9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments the number of strong references by 1.  <a href="#a9f16fac7d82b9db77472c01221252d9e">More...</a><br /></td></tr>
<tr class="separator:a9f16fac7d82b9db77472c01221252d9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2f3edccd5af4266a2096b6cceb767a6"><td class="memItemLeft" align="right" valign="top">virtual CounterValueType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_diligent_1_1_i_reference_counters.html#af2f3edccd5af4266a2096b6cceb767a6">ReleaseStrongRef</a> ()=0</td></tr>
<tr class="memdesc:af2f3edccd5af4266a2096b6cceb767a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrements the number of strong references by 1 and destroys the referenced object when the counter reaches zero. If there are no more weak references, destroys the reference counters object itself.  <a href="#af2f3edccd5af4266a2096b6cceb767a6">More...</a><br /></td></tr>
<tr class="separator:af2f3edccd5af4266a2096b6cceb767a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9bd07469345d500baf57e4a08fa649f"><td class="memItemLeft" align="right" valign="top">virtual CounterValueType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_diligent_1_1_i_reference_counters.html#af9bd07469345d500baf57e4a08fa649f">AddWeakRef</a> ()=0</td></tr>
<tr class="memdesc:af9bd07469345d500baf57e4a08fa649f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments the number of weak references by 1.  <a href="#af9bd07469345d500baf57e4a08fa649f">More...</a><br /></td></tr>
<tr class="separator:af9bd07469345d500baf57e4a08fa649f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a045d57bcd6df0409da96c46eec61e4fa"><td class="memItemLeft" align="right" valign="top">virtual CounterValueType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_diligent_1_1_i_reference_counters.html#a045d57bcd6df0409da96c46eec61e4fa">ReleaseWeakRef</a> ()=0</td></tr>
<tr class="memdesc:a045d57bcd6df0409da96c46eec61e4fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrements the number of weak references by 1. If there are no more strong and weak references, destroys the reference counters object itself.  <a href="#a045d57bcd6df0409da96c46eec61e4fa">More...</a><br /></td></tr>
<tr class="separator:a045d57bcd6df0409da96c46eec61e4fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c6c92f5510df6b74e8cd07a52080473"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_diligent_1_1_i_reference_counters.html#a8c6c92f5510df6b74e8cd07a52080473">GetObject</a> (class <a class="el" href="class_diligent_1_1_i_object.html">IObject</a> **ppObject)=0</td></tr>
<tr class="memdesc:a8c6c92f5510df6b74e8cd07a52080473"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the pointer to the IUnknown interface of the referenced object.  <a href="#a8c6c92f5510df6b74e8cd07a52080473">More...</a><br /></td></tr>
<tr class="separator:a8c6c92f5510df6b74e8cd07a52080473"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af89f01cc9cd121dad42ca4d85f211f12"><td class="memItemLeft" align="right" valign="top">virtual CounterValueType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_diligent_1_1_i_reference_counters.html#af89f01cc9cd121dad42ca4d85f211f12">GetNumStrongRefs</a> () const =0</td></tr>
<tr class="memdesc:af89f01cc9cd121dad42ca4d85f211f12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of outstanding strong references.  <a href="#af89f01cc9cd121dad42ca4d85f211f12">More...</a><br /></td></tr>
<tr class="separator:af89f01cc9cd121dad42ca4d85f211f12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a65d08c1f116deadbb82de322f7ccba"><td class="memItemLeft" align="right" valign="top">virtual CounterValueType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_diligent_1_1_i_reference_counters.html#a4a65d08c1f116deadbb82de322f7ccba">GetNumWeakRefs</a> () const =0</td></tr>
<tr class="memdesc:a4a65d08c1f116deadbb82de322f7ccba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of outstanding weak references.  <a href="#a4a65d08c1f116deadbb82de322f7ccba">More...</a><br /></td></tr>
<tr class="separator:a4a65d08c1f116deadbb82de322f7ccba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Base interface for a reference counter object that stores the number of strong and weak references and the pointer to the object. It is necessary to separate reference counters from the object to support weak pointers. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a9f16fac7d82b9db77472c01221252d9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f16fac7d82b9db77472c01221252d9e">&#9670;&nbsp;</a></span>AddStrongRef()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual CounterValueType Diligent::IReferenceCounters::AddStrongRef </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Increments the number of strong references by 1. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of strong references after incrementing the counter. </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>The method is thread-safe and does not require explicit synchronization. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>In a multithreaded environment, the returned number may not be reliable as other threads may simultaneously change the actual value of the counter. </dd></dl>

</div>
</div>
<a id="af9bd07469345d500baf57e4a08fa649f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9bd07469345d500baf57e4a08fa649f">&#9670;&nbsp;</a></span>AddWeakRef()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual CounterValueType Diligent::IReferenceCounters::AddWeakRef </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Increments the number of weak references by 1. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of weak references after incrementing the counter. </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>The method is thread-safe and does not require explicit synchronization. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>In a multithreaded environment, the returned number may not be reliable as other threads may simultaneously change the actual value of the counter. </dd></dl>

</div>
</div>
<a id="af89f01cc9cd121dad42ca4d85f211f12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af89f01cc9cd121dad42ca4d85f211f12">&#9670;&nbsp;</a></span>GetNumStrongRefs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual CounterValueType Diligent::IReferenceCounters::GetNumStrongRefs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of outstanding strong references. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of strong references. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>In a multithreaded environment, the returned number may not be reliable as other threads may simultaneously change the actual value of the counter. The only reliable value is 0 as the object is destroyed when the last strong reference is released. </dd></dl>

</div>
</div>
<a id="a4a65d08c1f116deadbb82de322f7ccba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a65d08c1f116deadbb82de322f7ccba">&#9670;&nbsp;</a></span>GetNumWeakRefs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual CounterValueType Diligent::IReferenceCounters::GetNumWeakRefs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of outstanding weak references. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of weak references. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>In a multithreaded environment, the returned number may not be reliable as other threads may simultaneously change the actual value of the counter. </dd></dl>

</div>
</div>
<a id="a8c6c92f5510df6b74e8cd07a52080473"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c6c92f5510df6b74e8cd07a52080473">&#9670;&nbsp;</a></span>GetObject()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Diligent::IReferenceCounters::GetObject </td>
          <td>(</td>
          <td class="paramtype">class <a class="el" href="class_diligent_1_1_i_object.html">IObject</a> **&#160;</td>
          <td class="paramname"><em>ppObject</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the pointer to the IUnknown interface of the referenced object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ppObject</td><td>- Memory address where the pointer to the object will be stored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>If the object was destroyed, nullptr will be written to *ppObject. If the object was not released, the pointer to the object's IUnknown interface will be stored. In this case, the number of strong references to the object will be incremented by 1.<br />
 The method is thread-safe and does not require explicit synchronization. </dd></dl>

</div>
</div>
<a id="af2f3edccd5af4266a2096b6cceb767a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2f3edccd5af4266a2096b6cceb767a6">&#9670;&nbsp;</a></span>ReleaseStrongRef()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual CounterValueType Diligent::IReferenceCounters::ReleaseStrongRef </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decrements the number of strong references by 1 and destroys the referenced object when the counter reaches zero. If there are no more weak references, destroys the reference counters object itself. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of strong references after decrementing the counter. </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>The referenced object is destroyed when the last strong reference is released.<br />
 If there are no more weak references, the reference counters object itself is also destroyed.<br />
 The method is thread-safe and does not require explicit synchronization. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>In a multithreaded environment, the returned number may not be reliable as other threads may simultaneously change the actual value of the counter. The only reliable value is 0 as the object is destroyed when the last strong reference is released. </dd></dl>

</div>
</div>
<a id="a045d57bcd6df0409da96c46eec61e4fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a045d57bcd6df0409da96c46eec61e4fa">&#9670;&nbsp;</a></span>ReleaseWeakRef()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual CounterValueType Diligent::IReferenceCounters::ReleaseWeakRef </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decrements the number of weak references by 1. If there are no more strong and weak references, destroys the reference counters object itself. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of weak references after decrementing the counter. </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>The method is thread-safe and does not require explicit synchronization. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>In a multithreaded environment, the returned number may not be reliable as other threads may simultaneously change the actual value of the counter. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<!--
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jan 3 2018 20:02:34 for Diligent Engine API Reference by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
-->
</body>
</html>
